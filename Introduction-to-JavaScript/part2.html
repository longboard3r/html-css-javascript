<html>
	<head>
		<title>Colour Guessing Game - part 2</title>
		<style type="text/css">
			
			/* Game theme, just for fun */
			body {
				
				font-size: 50em;
				font-family: monospace;
				text-align: center;				
				color: red;
				
				-webkit-animation: color_change 2s infinite alternate;
				-moz-animation: color_change 2s infinite alternate;
				-ms-animation: color_change 2s infinite alternate;
				-o-animation: color_change 2s infinite alternate;
				animation: color_change 2s infinite alternate;
			}
			
			@keyframes color_change {
			
				0% { color: red; }
				15% { color: orange; }
				30% { color: yellow; }
				45% { color: green; }
				60% { color: blue; }
				75% { color: indigo; }
				100% { color: violet; }
			}
		</style>
		<script>			
			
			// declare the game variables
			var colours;
			var target;
			var target_index;
			var guess_input;
			var guesses;
			var game_over;			
			
			// set inital values 
			colours = ["red", "orange", "yellow", "green", "blue","indigo", "violet"];
			colours.sort();	
			guesses = 0;		
			game_over = false;			
						
			// the main game function
			function do_game() {

				// select a random colour from the colours array
				target_index = Math.floor( Math.random() * colours.length);
				target = colours[target_index];
				alert("The target colour is: " + target);				

				// the game loop
				while(!game_over) {

					guesses++;
					guess_input = prompt("I am thinking of one of these colours: \n\n" +
									colours +  "\n\nWhat colour am I thinking of?");
					game_over = check_guess();
					
				}
			}

			// check guess input and give hints
			function check_guess() {

				// check if the guess is in the colours array
				if(colours.indexOf(guess_input) == -1) {
					alert("Sorry, I don't recognize your colour.\n\n Please try again.");
					return false;
				
				// for input greater than target
				}else if (guess_input > target) {				
				
					alert("Sorry, your guess is incorrect! \n\n Hint: your colour is alphabetically highter than mine.");
					return false;
				

				// for input less than target
				}else if(guess_input < target) {

					alert("Sorry, your guess is incorrect! \n\n Hint: your colour is alphabetically lower than mine.");
					return false;

				}else {					
					
					// change the background
					var game_body = document.getElementsByTagName("body")[0];
					game_body.style.background = target;
					
					// delay the success message to allow background colour to change
					setTimeout(display_success, 300);										
					return true;
				}  
			}
			
			/* display the success message */
			function display_success() {
				
				alert("You are right! You took " + guesses +" guesses!");	
			}

			window.onload = function() {
				
				// wait 3 seconds before starting game to allow theme to load
				setTimeout(do_game, 1500);
			};

		</script>
	</head>
	<body>
		?	
	</body>
</html>
